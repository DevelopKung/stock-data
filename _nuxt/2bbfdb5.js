(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{586:function(e,t,r){"use strict";var n=r(2),o=(r(40),r(55),r(198),r(8),r(3),r(10),r(63),r(88),r(11),r(9),r(15),r(16),r(7)),c=r(104),l=r(153);function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function f(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}t.a=Object(o.a)(c.a,Object(l.b)("form")).extend({name:"v-form",provide:function(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(e){var t=Object.values(e).includes(!0);this.$emit("input",!t)},deep:!0,immediate:!0}},methods:{watchInput:function(input){var e=this,t=function(input){return input.$watch("hasError",(function(t){e.$set(e.errorBag,input._uid,t)}),{immediate:!0})},r={_uid:input._uid,valid:function(){},shouldValidate:function(){}};return this.lazyValidation?r.shouldValidate=input.$watch("shouldValidate",(function(n){n&&(e.errorBag.hasOwnProperty(input._uid)||(r.valid=t(input)))})):r.valid=t(input),r},validate:function(){return 0===this.inputs.filter((function(input){return!input.validate(!0)})).length},reset:function(){this.inputs.forEach((function(input){return input.reset()})),this.resetErrorBag()},resetErrorBag:function(){var e=this;this.lazyValidation&&setTimeout((function(){e.errorBag={}}),0)},resetValidation:function(){this.inputs.forEach((function(input){return input.resetValidation()})),this.resetErrorBag()},register:function(input){this.inputs.push(input),this.watchers.push(this.watchInput(input))},unregister:function(input){var e=this.inputs.find((function(i){return i._uid===input._uid}));if(e){var t=this.watchers.find((function(i){return i._uid===e._uid}));t&&(t.valid(),t.shouldValidate()),this.watchers=this.watchers.filter((function(i){return i._uid!==e._uid})),this.inputs=this.inputs.filter((function(i){return i._uid!==e._uid})),this.$delete(this.errorBag,e._uid)}}},render:function(e){var t=this;return e("form",{staticClass:"v-form",attrs:f({novalidate:!0},this.attrs$),on:{submit:function(e){return t.$emit("submit",e)}}},this.$slots.default)}})},587:function(e,t,r){var content=r(616);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(19).default)("c09179b4",content,!0,{sourceMap:!1})},615:function(e,t,r){"use strict";r(587)},616:function(e,t,r){var n=r(18)((function(i){return i[1]}));n.push([e.i,".cursor[data-v-ccc6c364]{cursor:pointer}.page-login[data-v-ccc6c364]{height:100vh}.slide-up-enter-active[data-v-ccc6c364],.slide-up-leave-active[data-v-ccc6c364]{transition:all .25s ease-out}.slide-up-enter-from[data-v-ccc6c364]{opacity:0;transform:translateY(30px)}.slide-up-leave-to[data-v-ccc6c364]{opacity:0;transform:translateY(-30px)}",""]),n.locals={},e.exports=n},651:function(e,t,r){"use strict";r.r(t);var n=r(263),o=r(538),c=r(586),l=r(193),d=r(573),f=(r(11),r(9),r(8),r(3),r(15),r(10),r(16),r(5)),m=r(2),v=(r(42),r(22),r(41),r(64)),h=r(562),_=r.n(h);function w(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function O(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?w(Object(source),!0).forEach((function(t){Object(m.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):w(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var y={layout:"blank",data:function(){return{logo_image:"https://wisdmlabs.com/site/wp-content/uploads/2016/04/inventory.png",show_pwd:!1,loading:!1,valid_login:!0,valid_register:!0,requireRules:[function(e){return!!e||"กรุณากรอกข้อมูล"}],member:{username:"",password:"",role:"admin"},form_regis:{first_name:"",last_name:"",username:"",password:"",sex:"male"},sexs:[{text:"ชาย",value:"male"},{text:"หญิง",value:"female"}],show_login:!0,role_login:!0}},watch:{role_login:function(e){this.member.role=1==e?"admin":"user"}},methods:O(O({},Object(v.b)({register:"register/register"})),{},{onSubmit:function(){var e=this;return Object(f.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,e.$auth.loginWith("local",{data:{username:e.member.username,password:e.member.password,role:e.member.role}});case 4:if(1!=t.sent.data.status){t.next=9;break}e.$router.replace("/"),t.next=11;break;case 9:return t.next=11,e.$auth.logout();case 11:t.next=17;break;case 13:t.prev=13,t.t0=t.catch(1),_.a.fire({icon:"error",title:t.t0.response.data.message}),e.loading=!1;case 17:case"end":return t.stop()}}),t,null,[[1,13]])})))()},changeMode:function(e){var t=this;return Object(f.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("register"!=e){r.next=6;break}return r.next=3,t.$refs.form_register.reset();case 3:t.show_login=!0,r.next=9;break;case 6:return r.next=8,t.$refs.form_login.reset();case 8:t.show_login=!1;case 9:case"end":return r.stop()}}),r)})))()},registerData:function(){var e=this;return Object(f.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.register(e.form_regis);case 2:1==(r=t.sent).status?_.a.fire({icon:"success",title:"สำเร็จ"}).then((function(){e.changeMode("login")})):_.a.fire({icon:"error",title:r.message});case 4:case"end":return t.stop()}}),t)})))()}})},x=(r(615),r(50)),component=Object(x.a)(y,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"page-login d-flex justify-center align-center"},[t("div",[t(o.a,{directives:[{name:"show",rawName:"v-show",value:e.show_login,expression:"show_login"}],staticClass:"px-4 py-6",attrs:{width:"350",elevation:4}},[t(l.a,{attrs:{src:e.logo_image}}),e._v(" "),t("div",{staticClass:"d-flex justify-space-between"},[t("h3",[e._v("LOGIN "+e._s(e.role_login?"ADMIN":"USER"))]),e._v(" "),t(n.a,{attrs:{rounded:"",color:e.role_login?"primary":"info",depressed:"",small:""},on:{click:function(t){e.role_login=!e.role_login}}},[e._v(" เปลี่ยนสถานะ ")])],1),e._v(" "),t("div",[t(c.a,{ref:"form_login",staticClass:"mt-4",attrs:{"lazy-validation":"",autocompete:"new",autocomplete:"off"},on:{submit:function(t){return t.preventDefault(),e.onSubmit()}},model:{value:e.valid_login,callback:function(t){e.valid_login=t},expression:"valid_login"}},[t(d.a,{attrs:{rules:e.requireRules,label:"ชื่อเข้าใช้งาน"},model:{value:e.member.username,callback:function(t){e.$set(e.member,"username",t)},expression:"member.username"}}),e._v(" "),t(d.a,{attrs:{autocomplete:"off","append-icon":e.show_pwd?"mdi-eye":"mdi-eye-off",rules:e.requireRules,type:e.show_pwd?"text":"password",name:"input-10-2",label:"รหัสผ่าน"},on:{"click:append":function(t){e.show_pwd=!e.show_pwd}},model:{value:e.member.password,callback:function(t){e.$set(e.member,"password",t)},expression:"member.password"}}),e._v(" "),t(n.a,{staticClass:"mt-2",attrs:{type:"submit",rounded:"",color:"info",loading:e.loading,depressed:"",large:"",disabled:!e.member.username||!e.member.password,block:""}},[e._v(" เข้าสู่ระบบ ")])],1),e._v(" "),t(n.a,{staticClass:"mt-2",attrs:{rounded:"",color:"success",depressed:"",large:"",block:""},on:{click:function(t){return e.changeMode("login")}}},[e._v(" สมัครสมาชิก ")])],1)],1),e._v(" "),t(o.a,{directives:[{name:"show",rawName:"v-show",value:!e.show_login,expression:"!show_login"}],staticClass:"px-4 py-6",attrs:{width:"350",elevation:4}},[t(l.a,{attrs:{src:e.logo_image}}),e._v(" "),t("h3",[e._v("REGISTER")]),e._v(" "),t("div",[t(c.a,{ref:"form_register",staticClass:"mt-4",attrs:{"lazy-validation":"",autocompete:"new",autocomplete:"off"},on:{submit:function(t){return t.preventDefault(),e.registerData()}},model:{value:e.valid_register,callback:function(t){e.valid_register=t},expression:"valid_register"}},[t(d.a,{attrs:{rules:e.requireRules,label:"ชื่อ"},model:{value:e.form_regis.first_name,callback:function(t){e.$set(e.form_regis,"first_name",t)},expression:"form_regis.first_name"}}),e._v(" "),t(d.a,{attrs:{rules:e.requireRules,label:"นามสกุล"},model:{value:e.form_regis.last_name,callback:function(t){e.$set(e.form_regis,"last_name",t)},expression:"form_regis.last_name"}}),e._v(" "),t(d.a,{attrs:{rules:e.requireRules,label:"ชื่อผู้ใช้"},model:{value:e.form_regis.username,callback:function(t){e.$set(e.form_regis,"username",t)},expression:"form_regis.username"}}),e._v(" "),t(d.a,{attrs:{rules:e.requireRules,label:"รหัสผ่าน",type:"password"},model:{value:e.form_regis.password,callback:function(t){e.$set(e.form_regis,"password",t)},expression:"form_regis.password"}}),e._v(" "),t(n.a,{staticClass:"mt-2",attrs:{type:"submit",rounded:"",color:"info",loading:e.loading,depressed:"",large:"",disabled:!(e.form_regis.first_name&&e.form_regis.last_name&&e.form_regis.username&&e.form_regis.password),block:""}},[e._v(" เข้าสู่ระบบ ")])],1),e._v(" "),t(n.a,{staticClass:"mt-2",attrs:{rounded:"",color:"success",depressed:"",large:"",block:""},on:{click:function(t){return e.changeMode("register")}}},[e._v(" กลับ ")])],1)],1)],1)])}),[],!1,null,"ccc6c364",null);t.default=component.exports}}]);